---
title: "Install PostgreSQL"
output: html_notebook
---

```{bash}
# Install postgres
# https://www.digitalocean.com/community/tutorials/how-to-install-and-use-postgresql-on-ubuntu-16-04

sudo apt-get install postgresql postgresql-contrib

sudo -u postgres createuser --interactive
# rstudio
# y

sudo -u postgres createdb testdb

sudo -u rstudio psql -d testdb
# ALTER USER rstudio WITH PASSWORD 'rstudio';

psql -d testdb -h localhost -U rstudio -W 
# rstudio
```


## Configure DSN

```{bash}
sudo vim /etc/odbc.ini
```

[Postgres (DSN)]
Driver = postgresql
server = localhost
Database = testdb
UID = rstudio
PWD = rstudio

## Populate DB

```{r}
library(odbc)
con <- dbConnect(odbc::odbc(), Driver = "postgresql", Server = "localhost", 
    Port = "5432", Database = "testdb", UID = "rstudio", PWD = rstudioapi::askForPassword("Database password:"))
dbWriteTable(con, "airlines", nycflights13::airlines)
dbWriteTable(con, "flights", nycflights13::flights)
```

